%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Must use CM font by default
\usepackage[cm-default]{fontspec}
% For using Chinese
\usepackage[SlantFont,CJKnumber]{xeCJK}
\usepackage{CJKnumb}
\punctstyle{banjiao}

\input{setup_font}

% For same settings as M$ Word.
\usepackage[top=2.5cm,left=2.5cm,bottom=2cm,right=2cm]{geometry}

% For using bibtex
\usepackage{natbib,bibentry}

% This is for making thebibliography the same style as my school requests
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeatletter\renewenvironment{thebibliography}[1]{%
      \list{\@biblabel{\@arabic\c@enumiv}}%
           {\settowidth\labelwidth{\@biblabel{#1}}%
            \leftmargin\labelwidth%
            \advance\leftmargin\labelsep%
            \@openbib@code%
            \usecounter{enumiv}%
            \let\p@enumiv\@empty%
            \renewcommand\theenumiv{\@arabic\c@enumiv}}%
      \sloppy%
      \clubpenalty4000%
      \@clubpenalty \clubpenalty%
      \widowpenalty4000%
      \sfcode`\.\@m}%
     {\def\@noitemerr%
       {\@latex@warning{Empty `thebibliography' environment}}%
      \endlist}%
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% new env and cmd
\newlength{\parwidth}%
\newcommand{\framedparbox}[1]{ {% 
 \par 
 \setlength{\parwidth}{\linewidth}%
 \addtolength{\parwidth}{-1.5\parindent}%
% \hspace*{\parindent}% 
 \fbox{%
   \parbox{\parwidth}{\tt{}#1}%
 }%
}\vspace*{1ex}}%

\newenvironment{CJKenumerate}{%
\newcounter{listcount}%
\begin{list}{\stepcounter{listcount}\CJKnumber{\arabic{listcount}}、}{}%
}{\end{list}}

%%%%%%%%%%%%%%%%%%%%
\renewenvironment{abstract}{%
\begin{center}%
{\fontsize{16}{16}\selectfont\bf%三号，加粗，居中
\abstractname}%
\end{center}%
\vspace*{3ex}%
\begin{onehalfspace}%
\par\indent%
}{\end{onehalfspace}}%

\newcommand{\keywordsname}{Keywords:}

\newcommand{\keywords}[1]{\vspace*{3ex}\noindent{\fontsize{14}{14}\selectfont\bf\keywordsname}~#1}
%%%%%%%%%%%%%%%

%！！重要！！%这是防止 - -- --- 等特殊符号失去在 LaTeX 下原油的意义。
\defaultfontfeatures{Mapping=tex-text}

% xeCJK 会处理好中文断行
\XeTeXlinebreaklocale{en}
%\XeTeXlinebreakskip=0ex minus 0.5ex plus 1ex 

% 中文日期
\newcommand{\CJKtoday}{\number\year 年 \number\month 月 \number\day 日}

% English title of my thesis
\newcommand{\entitle}{Lexical Analyse in English Machine Translation}
% Chinese title of my thesis
\newcommand{\cntitle}{机器翻译中的英语语义分析}

% Author name
\newcommand{\cnauthor}{蔡万钊}
\newcommand{\enauthor}{Microcai}

% school
\newcommand{\myschool}{浙江理工大学外国语学院}
\newcommand{\myclass}{07英语(2)班}
\newcommand{\mystudentno}{G07710219}
\newcommand{\myteacher}{黄海军}

